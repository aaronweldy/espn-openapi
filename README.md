# ESPN OpenAPI Specs

The goal of this project is to provide a collection of OpenAPI specs for the various ESPN APIs with full type definitions for the responses. This will allow developers to generate clients in any language to interact with the API, generally to fetch real-time or historical sports data.

## Project Structure

The core of this project is the `spec-*.yaml` files. These contain both the endpoint definitions & the models used in the responses. I've tried to generalize them as much as I can, and provide enums where there's a human-friendly typed list (e.g. the list of sports).
Obvious dislaimer: ESPN can change these at any time, and no promises that they'll work for all sport/league combos.

The project is organized into the following main directories:

- **`models/`**: Example autogenerated Python clients for the various APIs. Used for testing.
- **`json_schemas/`**: Includes JSON schema files that define the structure of the data expected from the ESPN APIs. These are useful for validation and understanding the API responses.
- **`json_output/`**: Contains example JSON responses from various API endpoints. These can be helpful for development and testing.
- **`tests/`**: Regression tests for (most) of the endpoints.
- **`spec-*.yaml`**: OpenAPI (Swagger) specification files used to generate the API client code in the `models/` directory.

## Basic Usage

```python
from models.cdn_api.espn_cdn_nfl_api_client import Client
from models.cdn_api.espn_cdn_nfl_api_client.api.default import get_schedule
from models.cdn_api.espn_cdn_nfl_api_client.models import Schedule

# Initialize the client
client = Client(base_url="https://site.api.espn.com")

try:
    schedule_response = get_schedule.sync_detailed(client=client)
    schedule_response.raise_for_status()
    schedule: Schedule = schedule_response.parsed
    # Process the schedule data
    if schedule and schedule.weeks:
        print(f"NFL Schedule for week {schedule.weeks[0].number}:")
        for event in schedule.weeks[0].events:
            print(f"- {event.name} ({event.date})")
    else:
        print("No schedule data found.")

except Exception as e:
    print(f"An error occurred: {e}")

```

## Available API Clients

This project includes clients for the following ESPN APIs, located in the `models/` directory:

-   **`models/cdn_api/` (ESPN CDN API)**:
    -   Provides access to content delivery network (CDN) based data. This often includes schedules, scores, and potentially some media content.
    -   Client module: `models.cdn_api.espn_cdn_nfl_api_client` (Example for NFL, other sports might be available)

-   **`models/fantasy_api/` (ESPN Fantasy API)**:
    -   Allows interaction with ESPN's fantasy sports platform. You can manage leagues, teams, players, and scores.
    -   Client module: `models.fantasy_api.espn_fantasy_api_client`

-   **`models/site_api/` (ESPN Site API)**:
    -   Likely interacts with the main ESPN website's public-facing API. This could provide news, articles, standings, and team information.
    -   Client module: `models.site_api.espn_nfl_api_client` (Example for NFL)

-   **`models/site_web_api/` (ESPN Site Web API)**:
    -   Potentially a different or more specific version of the site API, possibly for newer web components or specific data feeds.
    -   Client module: `models.site_web_api.espn_site_web_api_client`

-   **`models/sports_core_api/` (ESPN Sports Core API)**:
    -   This seems to be a core API for sports data, which might include athlete details, event information, statistics, and more across various sports.
    -   Client module: `models.sports_core_api.espn_sports_core_api_client`

Each client is generated from an OpenAPI specification and provides typed data models for API responses. You can explore the respective subdirectories for specific API operations and models.


## License

This project is licensed under the MIT License. See the `LICENSE` file for more details.
