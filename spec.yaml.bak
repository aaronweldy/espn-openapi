openapi: 3.0.3
info:
  title: ESPN NFL API
  version: 1.0.0
  description: Unofficial ESPN API for retrieving NFL game data. This API is not officially supported by ESPN and may change without notice.
  
servers:
  - url: https://site.api.espn.com/apis/site/v2
    description: ESPN Site API Production Server

paths:
  /sports/football/nfl/summary:
    get:
      summary: Get NFL Game Summary
      description: Retrieve comprehensive summary data for a specific NFL game including scores, statistics, and detailed game information
      operationId: getNFLGameSummary
      parameters:
        - name: event
          in: query
          required: true
          description: The event ID of the NFL game
          schema:
            type: string
            example: "401547417"
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GameSummary'
        '404':
          description: Game not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  schemas:
    GameSummary:
      type: object
      properties:
        header:
          $ref: '#/components/schemas/GameHeader'
        gameInfo:
          $ref: '#/components/schemas/GameInfo'
        boxscore:
          $ref: '#/components/schemas/Boxscore'
        format:
          $ref: '#/components/schemas/GameFormat'
        plays:
          type: array
          items:
            $ref: '#/components/schemas/Play'
        drives:
          schema:
            oneOf:
              - type: array
                items:
                  $ref: '#/components/schemas/Drive'
              - type: string
        leaders:
          type: array
          items:
            $ref: '#/components/schemas/Leader'
        standings:
          type: object
          description: Relevant standings information

    GameHeader:
      type: object
      required:
        - id
        - uid
        - season
        - competitions
      properties:
        id:
          type: string
          description: Unique identifier for the game
          example: "401547417"
        uid:
          type: string
          description: Universal identifier for the game
          example: "s:20~l:28~e:401547417"
        season:
          $ref: '#/components/schemas/Season'
        week:
          type: integer
          description: Week number in the season
        timeValid:
          type: boolean
          description: Whether the game time is valid
        competitions:
          type: array
          items:
            $ref: '#/components/schemas/Competition'

    Season:
      type: object
      required:
        - year
        - type
      properties:
        year:
          type: integer
          example: 2023
        type:
          type: integer
          description: Season type (1=preseason, 2=regular, 3=postseason)
          example: 3
        slug:
          type: string
          example: "post-season"

    Competition:
      type: object
      required:
        - id
        - uid
        - date
        - competitors
      properties:
        id:
          type: string
          example: "401547417"
        uid:
          type: string
          example: "s:20~l:28~e:401547417~c:401547417"
        date:
          type: string
          format: date-time
          example: "2023-02-12T23:30:00Z"
        attendance:
          type: integer
          example: 70048
        type:
          $ref: '#/components/schemas/CompetitionType'
        timeValid:
          type: boolean
        neutralSite:
          type: boolean
        conferenceCompetition:
          type: boolean
        playByPlayAvailable:
          type: boolean
        recent:
          type: boolean
        venue:
          $ref: '#/components/schemas/Venue'
        competitors:
          type: array
          items:
            $ref: '#/components/schemas/Competitor'
        notes:
          type: array
          items:
            type: string
        status:
          $ref: '#/components/schemas/GameStatus'

    CompetitionType:
      type: object
      properties:
        id:
          type: string
          example: "3"
        text:
          type: string
          example: "Postseason"
        abbreviation:
          type: string
          example: "POST"

    Venue:
      type: object
      properties:
        id:
          type: string
          example: "1"
        fullName:
          type: string
          example: "State Farm Stadium"
        address:
          $ref: '#/components/schemas/Address'
        capacity:
          type: integer
          example: 63400
        grass:
          type: boolean
        indoor:
          type: boolean
        images:
          type: array
          items:
            $ref: '#/components/schemas/Image'

    Address:
      type: object
      properties:
        city:
          type: string
          example: "Glendale"
        state:
          type: string
          example: "Arizona"
        country:
          type: string
          example: "USA"

    Competitor:
      type: object
      required:
        - id
        - uid
        - order
        - homeAway
        - team
      properties:
        id:
          type: string
          example: "21"
        uid:
          type: string
          example: "s:20~l:28~t:21"
        type:
          type: string
          example: "team"
        order:
          type: integer
        homeAway:
          type: string
          enum: [home, away]
        winner:
          type: boolean
        team:
          $ref: '#/components/schemas/Team'
        score:
          type: string
          example: "35"
        linescores:
          type: array
          items:
            $ref: '#/components/schemas/Linescore'
        statistics:
          type: array
          items:
            $ref: '#/components/schemas/Statistic'
        records:
          type: array
          items:
            $ref: '#/components/schemas/Record'

    Team:
      type: object
      required:
        - id
        - uid
        - abbreviation
        - displayName
      properties:
        id:
          type: string
          example: "21"
        uid:
          type: string
          example: "s:20~l:28~t:21"
        location:
          type: string
          example: "Philadelphia"
        name:
          type: string
          example: "Eagles"
        abbreviation:
          type: string
          example: "PHI"
        displayName:
          type: string
          example: "Philadelphia Eagles"
        shortDisplayName:
          type: string
          example: "Eagles"
        color:
          type: string
          example: "004C54"
        alternateColor:
          type: string
          example: "000000"
        isActive:
          type: boolean
        logo:
          type: string
          format: uri
          example: "https://a.espncdn.com/i/teamlogos/nfl/500/phi.png"
        logos:
          type: array
          items:
            $ref: '#/components/schemas/Logo'

    Logo:
      type: object
      properties:
        href:
          type: string
          format: uri
        width:
          type: integer
        height:
          type: integer
        alt:
          type: string
        rel:
          type: array
          items:
            type: string

    Linescore:
      type: object
      properties:
        value:
          type: number
          description: Points scored in this period

    Statistic:
      type: object
      properties:
        name:
          type: string
          example: "firstDowns"
        displayName:
          type: string
          example: "First Downs"
        shortDisplayName:
          type: string
        displayValue:
          type: string
          example: "27"
        value:
          type: number
          example: 27

    Record:
      type: object
      properties:
        name:
          type: string
          example: "overall"
        abbreviation:
          type: string
          example: "Total"
        type:
          type: string
          example: "total"
        summary:
          type: string
          example: "14-3"

    GameStatus:
      type: object
      required:
        - type
      properties:
        clock:
          type: number
          example: 0.0
        displayClock:
          type: string
          example: "0:00"
        period:
          type: integer
          example: 4
        type:
          $ref: '#/components/schemas/StatusType'

    StatusType:
      type: object
      properties:
        id:
          type: string
          example: "3"
        name:
          type: string
          example: "STATUS_FINAL"
        state:
          type: string
          enum: [pre, in, post]
          example: "post"
        completed:
          type: boolean
        description:
          type: string
          example: "Final"
        detail:
          type: string
          example: "Final"
        shortDetail:
          type: string
          example: "Final"

    GameInfo:
      type: object
      properties:
        venue:
          $ref: '#/components/schemas/Venue'
        officials:
          type: array
          items:
            $ref: '#/components/schemas/Official'
        attendance:
          type: integer
        weather:
          $ref: '#/components/schemas/Weather'

    Official:
      type: object
      properties:
        fullName:
          type: string
          example: "Carl Cheffers"
        displayName:
          type: string
          example: "C. Cheffers"
        position:
          type: string
          example: "Referee"
        order:
          type: integer

    Weather:
      type: object
      properties:
        temperature:
          type: integer
          example: 73
        condition:
          type: string
          example: "Clear"
        humidity:
          type: integer
          example: 45
        displayValue:
          type: string
          example: "Clear"

    Boxscore:
      type: object
      properties:
        teams:
          type: array
          items:
            $ref: '#/components/schemas/BoxscoreTeam'
        players:
          type: array
          items:
            $ref: '#/components/schemas/BoxscorePlayer'

    BoxscoreTeam:
      type: object
      properties:
        team:
          $ref: '#/components/schemas/Team'
        statistics:
          type: array
          items:
            $ref: '#/components/schemas/Statistic'

    BoxscorePlayer:
      type: object
      properties:
        team:
          $ref: '#/components/schemas/Team'
        players:
          type: array
          items:
            $ref: '#/components/schemas/PlayerStats'

    PlayerStats:
      type: object
      properties:
        athlete:
          $ref: '#/components/schemas/Athlete'
        stats:
          type: object
          additionalProperties:
            type: string

    Athlete:
      type: object
      properties:
        id:
          type: string
        uid:
          type: string
        guid:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        fullName:
          type: string
        displayName:
          type: string
        shortName:
          type: string
        jersey:
          type: string
        position:
          $ref: '#/components/schemas/Position'
        headshot:
          $ref: '#/components/schemas/Headshot'

    Position:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        displayName:
          type: string
        abbreviation:
          type: string

    Headshot:
      type: object
      properties:
        href:
          type: string
          format: uri
        alt:
          type: string

    GameFormat:
      type: object
      properties:
        regulation:
          type: object
          properties:
            periods:
              type: integer
              example: 4
        overtime:
          type: object
          properties:
            periods:
              type: integer
            halfLength:
              type: boolean

    Play:
      type: object
      properties:
        id:
          type: string
        sequenceNumber:
          type: string
        type:
          $ref: '#/components/schemas/PlayType'
        text:
          type: string
        period:
          type: object
          properties:
            number:
              type: integer
            displayValue:
              type: string
        clock:
          type: object
          properties:
            value:
              type: integer
            displayValue:
              type: string

    PlayType:
      type: object
      properties:
        id:
          type: string
        text:
          type: string
        abbreviation:
          type: string

    Drive:
      type: object
      properties:
        id:
          type: string
        description:
          type: string
        sequenceNumber:
          type: string
        result:
          type: string
        playCount:
          type: integer
        yards:
          type: integer
        timeOfPossession:
          type: object
          properties:
            displayValue:
              type: string

    Leader:
      type: object
      properties:
        team:
          $ref: '#/components/schemas/Team'
        leaders:
          type: array
          items:
            $ref: '#/components/schemas/LeaderCategory'

    LeaderCategory:
      type: object
      properties:
        name:
          type: string
        displayName:
          type: string
        leaders:
          type: array
          items:
            $ref: '#/components/schemas/LeaderEntry'

    LeaderEntry:
      type: object
      properties:
        displayValue:
          type: string
        value:
          type: number
        athlete:
          $ref: '#/components/schemas/Athlete'
        team:
          $ref: '#/components/schemas/Team'

    Image:
      type: object
      properties:
        href:
          type: string
          format: uri
        width:
          type: integer
        height:
          type: integer
        alt:
          type: string
        rel:
          type: array
          items:
            type: string

    Link:
      type: object
      properties:
        href:
          type: string
          format: uri
        text:
          type: string
        rel:
          type: array
          items:
            type: string

    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          properties:
            code:
              type: integer
            message:
              type: string